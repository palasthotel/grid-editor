{"version":3,"sources":["../node_modules/symbol-observable/es/ponyfill.js","../node_modules/symbol-observable/es/index.js","../node_modules/redux/es/redux.js","../node_modules/redux-thunk/es/index.js","../src/actions/types.js","../src/reducer/update-ui.js","../src/helper/store-iterator.js","../src/actions/state.js","../src/reducer/update-grid.js","../src/reducer/index.js","../src/store/index.js","../src/index.js"],"names":["symbolObservablePonyfill","root","result","Symbol","observable","self","window","global","module","Function","randomString","Math","random","toString","substring","split","join","ActionTypes","INIT","REPLACE","PROBE_UNKNOWN_ACTION","isPlainObject","obj","proto","Object","getPrototypeOf","createStore","reducer","preloadedState","enhancer","_ref2","arguments","Error","undefined","currentReducer","currentState","currentListeners","nextListeners","isDispatching","ensureCanMutateNextListeners","slice","getState","subscribe","listener","isSubscribed","push","unsubscribe","index","indexOf","splice","dispatch","action","type","listeners","i","length","replaceReducer","nextReducer","_ref","outerSubscribe","observer","TypeError","observeState","next","$$observable","warning","message","console","error","e","getUndefinedStateErrorMessage","key","actionType","actionDescription","String","getUnexpectedStateShapeWarningMessage","inputState","reducers","unexpectedKeyCache","reducerKeys","keys","argumentName","call","match","unexpectedKeys","filter","hasOwnProperty","forEach","assertReducerShape","initialState","combineReducers","finalReducers","finalReducerKeys","shapeAssertionError","combination","state","warningMessage","hasChanged","nextState","_i","_key","previousStateForKey","nextStateForKey","errorMessage","bindActionCreator","actionCreator","apply","bindActionCreators","actionCreators","boundActionCreators","_defineProperty","value","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","getOwnPropertySymbols","sym","getOwnPropertyDescriptor","_objectSpread2","target","source","getOwnPropertyDescriptors","defineProperties","compose","_len","funcs","Array","arg","reduce","a","b","applyMiddleware","middlewares","store","_dispatch","middlewareAPI","chain","map","middleware","isCrushed","name","createThunkMiddleware","extraArgument","thunk","withExtraArgument","REQUEST_GRID_DOCUMENT_LOAD","REQUEST_GRID_DOCUMENT_CHECK_DRAFT_STATE","REQUEST_GRID_DOCUMENT_PUBLISH_DRAFT","REQUEST_GRID_DOCUMENT_REVERT_DRAFT","REQUEST_GRID_DOCUMENT_REVERT_TO_REVISION","REQUEST_GRID_DOCUMENT_REVISIONS","REQUEST_GRID_STYLES_GET","REQUEST_GRID_PERMISSION_RIGHTS","REQUEST_GRID_CONTAINER_EDITING_GET_TYPES","REQUEST_GRID_CONTAINER_EDITING_ADD","REQUEST_GRID_CONTAINER_EDITING_DELETE","REQUEST_GRID_CONTAINER_EDITING_MOVE","REQUEST_GRID_CONTAINER_EDITING_UPDATE","REQUEST_GRID_BOX_EDITING_META_TYPES","REQUEST_GRID_BOX_EDITING_SEARCH","REQUEST_GRID_BOX_EDITING_CREATE","REQUEST_GRID_BOX_EDITING_MOVE","REQUEST_GRID_BOX_EDITING_REMOVE","REQUEST_GRID_BOX_EDITING_UPDATE","GRID_UI_STATE","GRID_LOADING","GRID_CONTAINER_IN_PLACE_DIALOG","GRID_BOX_IN_PLACE_DIALOG","GRID_CONTAINER_EDIT","GRID_BOX_EDIT","updateUI","new_state","payload","is_loading","edit_container","container_id","edit_box","box","container_dialog_index","box_dialog","findContainer","container","c","id","findSlot","slot_id","slots","s","findBoxPath","box_id","container_index","slot_index","box_index","boxes","GRID_UPDATE","GRID_IS_LOADING","GRID_CONTAINER_ADD","GRID_CONTAINER_MOVE","GRID_CONTAINER_REMOVE","GRID_BOX_ADD","_create_action","more","actionGridUpdate","grid","actionGridIsLoading","actionGridContainerAdd","args","updateGrid","isDraft","updateContainerList","addContainer","deleteContainer","moveContainer","updateContainer","updateBoxes","to_index","target_container","new_list","createBox","removeBox","moveBox","to_container_id","to_slot_id","to_box_index","from_container_id","from_slot_id","from_box_index","same_slot_correction","slot","boxEditor","containerEditor","updateRevisions","revisions","updateStyles","styles","updateRights","rights","updateBoxTypes","box_types","types","box_type","box_meta_type","log","gridReducer","ui","box_editor","container_editor","container_types","createGridStore","logger","GridApp","gridStore"],"mappings":"AOAA,ADAA,AGAA,ADAA,AEAA;AJEA;;;;;AFDA;ADDA,AHAe,AIER,AOFP,AFEA,ADAA,AHDA,AKCA,INAaqJ,KDFJJ,AHAejJ,qBGAxB,ACEuC,CDFRkJ,EHAhB,AIE2B,CJFOjJ,IAAlC,EAAwC,IGAvD,EAA8C,eCEvC;ADDL,AFAF,ADAC,MAAIC,GGAI,GHAR,OGAkBwD,IAAV,EAAgB;AACrB,AHAH,AICM,AKQP,ADLA,AEHA,INAa4F,EJDRnJ,EGAG+C,IHAG,GAAGjD,CGAE,GAAGyD,AHAD,CAACvD,GGAI,CAAC+C,EHAvB,MGAG,WCCgD,GAAG,yCAAhD;ADDH,QACIT,QAAQ,GAAGiB,IAAI,CAACjB,QADpB;AAEA,AHAH,AIAM,AOFQ,AFUf,ADUA,AEjBA,INDa8G,EJAR,GWFmBuG,EREb,EHAC3P,GWFG,GXEV,AWF4B,EREZ4D,GHAE,CGAZ,EAAgB,OHA1B,EAAkC,GIAa,GAAG,qCAA5C;ADCD,ADLN,ADAA,ADKE,AWFE,MAAM0E,EXEJtI,GWFS,EREF,CHAD,AWFM,CXELC,QGAU+C,EHArB,EAAuB,EGAZ,EAAkB,IQF3B;ARGI,AFHR,ADGGjD,AIDI,AODHI,EAAAA,EVDAL,AGESuJ,EJCVtJ,ECHH,AUCU,CAAC6P,GREC,AHAH,GAAG5P,GWFR,CREegD,EHAD,AWFKsF,CXEJrI,GGAP,CQFR,IRE0B,EHA3B,MID4C,EDCvC,CCD0C,CDCR,mCCDnC;ADEG,AHAP,AWFF,KXAC,MAEO,MGAQ+C,MAAM,CAACD,QAAD,EAAWT,QAAX,EAAqByG,aAArB,CAAb;AACD,AFHT,ADGGhJ,AIFI,ACKQ,AKJA,ITFX,AGCSuJ,EJEVvJ,GKGqB4K,AKJA8E,ETFbvP,CDGF,GCHL,ADGQF,EKGG,CAAkB4F,EJNb,CDGF,CAAC,CKGJ,CKJA,CLIyB5C,EKUtC,IThBF,AIMe,EJNkB,AIMc,CLH7B,CAAf,SIFkD,GAAG,0CAAjD;AFJP,ADIElD,ADGCE,AOPI,AFUN,AKSC,ETfAF,EMJWwK,ENIP,ADGHtK,AUFqC4F,GTD/B1F,CIMA8C,CKSP,CVZO,CCHP,ADGQ/C,GOPe,AFUV,CAACgD,EEVY,EFU3B,ELHE,GAAoBlD,MAApB,COPI,iDGKyC;APGxC,AFHP,ADGE,AIHI,AECA,ADML,AKND,CTHD,GGEawJ,GHAN,EKCS8B,ADMThB,EJPI,IEGIzG,GFHGzD,CEGC,CAAC6C,EGFb,CAAuBsI,CLDnB,EEGQ,CAAX,EFHqB,AIO3B,GCNK,EAAkCN,CFDG,GAAG,EHAxC,EAAmC,IKCnC,EAA+C,uBFD/C;ADIA,AFHLlL,ADGA,AOPK,ADI+C,ADOnD,AKNFuP,ETDCvP,CDJD,COAYqM,AGKZkD,ETDK,ASCH,CPJG,COID,CTDIlP,ADGD,CKICyK,AKRuC,KTC9C,AMJsB,GAAG,CFWT,YEXX,SFYAhF,KADW,CAAf;AFHE,AFHJ,ADGC7F,AIJK,AEA+C,AIGrD,CTJM,GDKLA,AIJWyJ,CDJT,EFKG,GDGC,CCHG,EDGA,KCHOpJ,MAAP,GDGT,AIJkC,EHCP,CGDU,UHChC,EAAmC,aGDnC;ADKJ,AFHDN,ADGA,AORK,ADG+C,ADUnD8K,AKNFgC,ETFC9M,CETA,CIIWsM,AGOZQ,ETFK,AIQHhC,EKNE,CTFIxK,CSEF,EALyC,GTG9C,AIQU,CAAC4C,GEbe,GAAG,AFaZ,CAAC6H,OAAP,CAAezG,GAAhB,CAAT,GAAgCpB,CEb5B,KFakC,CAAC6H,OAAP,CAAejE,KAA/C;AFJF,AFHA,AGFM,ACUJ,AKLF,CTLM,GGAM6C,GHEN,IAAI,EIQDmB,KJRQvK,IIQf,EJRQ,KAAkB,KGFc,GAAG,GHEvC,EAAmC,2BGFnC;AFDP,ADIEP,ADGD,AOTM,ADE+C,AIOrD2O,ETHC3O,ECJES,AKFS8L,AGSZoC,ETHK,GAAGpO,ADGDN,IUAE,ETHR,ADGD,AUAW,CRPI,CQDgC,ERC7B,GKFY,GAAG,GLENQ,YAAT,GAAwB,EKFpC;AJUP,ADPE,ADID,ADGA,AILM,AEFN,ADYC,AKLDiP,CTLM,GEKHxG,ACLSU,AMKZ8F,GTHM,EEGE,ADPAhP,AGYF8J,GFLKxB,CDPC,CAACrI,KQOE,CRPP,CQOS,ERPKC,AQFyB,EJEhC4K,GDYd,GHZO,CAAuB,CCOC,CDPxB,AIAR,CHOD,CDPoC3K,QEEiB,CFF5C,CAAqC,CAArC,AEE+C,EFFPC,KAAxC,CAA8C,EAA9C,EAAkDC,IAAlD,CAAuD,GAAvD,CAAP,qBEEK,uEEFoB;AHQ3BmI,ADPC,ADIClJ,AMPK,ADEoB,ADaxB,AKLFiP,CRTD,CDMEjP,EMPWwM,AGUZyC,CPAI,CAAC9F,AFHA,GAAG3I,CKLEiL,CAAgB,EIQjB,EAAE,ETHK,ASP+B,CTO9B,KEGlB,AIVgC,GJUNzC,AIVS,KNOlB,AISVlD,CJTE,EAAP,EIQC,WFLH,AIVO;ANQN,ADCA,AIJM,ACYHkF,AKNH+D,INNYlF,AMMZkF,ILMG/D,EKNG,EAAE,EAXuC,CPYjC9B,GEKD,EAAEhG,MAAM,CAAC6H,OAAP,CAAeC,GDZgB,GAAG,oCAA3C;AFAP,AKJO,ADEL,ADYC,AKHF6D,IRPG7N,AKJSyL,AGWZoC,MJTKpD,AISC,CJTA,CAACC,AISC,EJTH,CJES,GAAG,CIFHR,MCFmB,GAAG,GDEnC,EAA2B,kBCFtB;ALKLjK,ADIF,AGJO,AEFJ,AEgBY,AHDZ,AKnB6C,ERM9CA,CQQA,CTJEhB,AGJS6J,EFAP,EAAE,CMcgBoD,CPVd,GAAG,EKNHzB,CAAP,GEgBY,CAAoB3F,KNdVrF,AMcV,EAA2ByC,MAA3B,EAAkC,CPV3BlD,CCJe,EADnB,CDKL,CAAb,AGJkD,GAAG,uCAA9C;AFCLkB,AKLK,ADGJ,AEgBF,AELA,ERTCA,EKLWwL,EGcR7D,GRTI,CMcA3F,CNdE,IDIIjD,CMTU,ACmBV,AELA,CFKCkD,EDnBY,AGcV,EFKjB,EELA,QRT8B1C,EKLxB,EAGP,QLE2C,EAFzB;AAGhBU,AEDK,AEDL,AGCF,ADeE,AHFA,EHZAA,EEDW4I,KKAJyE,ADeFpF,AHFAuB,SIbP,CAAmB7E,GPCG,EAAE,AODxB,EAA0B5C,MAA1B,CPCiC/B,CODA,CJa/B,IDb8C,GAAG,AIejD,WNdsB,GAAgC,uBEDjD;AFEH,AIRkD,AGOrD,ADeC,AHFC,AKJF,MAAI,GDTG2E,ADeDyD,ENdI,GODV,UCS6B,OLKvBzD,KADJ,AKJF,EAA2C,MRRArF,MMc1C,MNdsD,EAApD;AACD,AEFI,AEP+C,AGQrD,ADeC,AHDEwK,AKLF,INVWjB,ICeTiB,AKLI2E,CFMDpG,KENO,GAAG,KLKC,EAAEtG,EKLZ0M,ILKkB,CAAC7E,CKLV,CAAAvC,KLKG,AKLE,CLKa0C,EDfe,GAAG,YIgBnD,2BJhBK;AFHW,AKClB,ADLsD,AEwBnD,AHJA,AKHmB,CRbtB,QKCSyB,IGYiB,UHZ1B,AGY0B7I,CHZFX,GGYM,CHZ9B,EAA8B4H,CCoBvB7H,MDpBP,ACoBa,CAAC6H,CDpBmC,MCoB1C,CAAe+B,IADnB;ANZH,AKPiD,AHI1C,AET+C,AGUtD,ACO8B,INRjB7C,EGJ0B2C,GEK9B6B,CFLwC,KGYf,SDPlC,CAAyB3I,ACOS5C,KDPlC,CCOwC,CDPRA,CCOY,KDP5C,CLDgD,CKCT,ELDY,qCAA5C,EGJuC,EAAG;AAChD,ADNqD,AGWrD,ADgBC,AHHA,AKNC,SDPK4C,ADgBDuD,AHHAuB,KIbN,ACOK,OAAO1H,MAAP,ELMJ,GKNsB,UAArB,EAAiCgB,OAAO,CAACmL,GFS1C,AETkC,CAAY,aAAZ,EAA2BnM,MAA3B;AHZ1BC,AHIH,AEV+C,AGYrD,ADgBE,AHHA,AKNA,IHbOA,AHIG+G,IGJC,EAAJ/G,IAAT,AGaQlD,MAAM,GAAG6D,IAAI,CAACZ,GFUhB4C,AHHAA,GKPe,CNTsB,AMSzC,CFSA,AHHA,AKRyC,CAGzC,CNV4C,iCAAxC;AGJSiF,ADNsC,AE8BlDoC,AHHAhC,IErBYJ,ICwBZoC,AHHAhC,GErBmB,EAAPJ,ECwBL,CHHC,CGGC7H,CHHCA,KGGK,CAAC6H,AHHA,CAACA,MGGR,CAAeoC,AHHd,CAAe/B;AErB5B,AHKM,AEX+C,AGctD,ADcG,AHHA,AKJA,INVUjB,CGLeyC,IAA3B,AEQQ8B,QCOCzO,MAAP,CDPH,CAAyB6F,KAAzB,EAAgC5C,GLHY,GAAG,AKG/C,EAAwC,+BLHjC;AGJN,ADPqD,AGerD,ACOE,SAL2B,CDFrBA,MAAM,CAACC,IAAf;ALHM,AEZ+C,AGgBpD,ADgBA,AHHA,AKZ4B,INLjBiH,GMKS,EDDfX,AJaAgB,wBDjBmC,GAAG,UCiB3C,CIbA,oBLJK;AFIP,AKLO,ADX+C,AGiBnD,ADgBA,AHHA,AKbmB,KAApB,IRDOrJ,AKLOyL,aLKhB,CAAuBxL,EKLhB,CLKP,AKLiCyL,ELKL,EKLrB,CCuBAhH,AHHAA,CEpB+B,AEO/B5C,IDeJ,AHHA,EIZU,CAAC6H,OAAP,CAAe4D,SADnB;APAD,AKLD,AHCM,AEb+C,AGerD,ADoBGnD,AHHAH,IDnBShB,EFIP,EMkBFmB,AHHAH,CEpBIsB,ILKKtL,GAAP,CMkBO,EAAE+L,ENlBM,EKLC,CAACf,KLKjB,CGeoB,EAAEnJ,CHfK7B,EKLX,AHCsB,CFIR,CKLA,CHCW,AIsBb,AHHA,CGGCyE,AHHAiF,EHfM,GMkBD,CNlBtC,AMkBuCS,CHHb,CHfmB,AGeJ1I,OHfW,AMkBpB,EAAkBI,GNlBL,GMkBb,SJtB3B;AFKL,AKNmC4J,ADZiB,AEiCnD,AHHA,AKPDjE,IHXmCiE,AGWnCjE,ERLIvH,EKNmC,EAAJwL,CLM1B,GAAGzL,AQKF,GRLV,AQKa,4BAAgBuO,MAAhB,EAAwB1G,mBAAxB,CAAb;AHXkC,AHE7B,AEd+C,AGqBrD,ADDA,AEIC,GHZoB,AGIrB,CHJA,AHEYoB,KKOLxE,ACGA,KDHP,qBLP2C,GAAG,iCAAxC;AFML,AKPD,AESA,ADgBA,AHJC,AKTA+C,IAAAA,KRLOtH,AGcFmJ,KKTK,CRLG,CAAClJ,CQKD,aRLN,CAAsBF,KAAtB,IGcP,EHdwC,GQKX4H,CRL7B,EAA8C,gBQKjC,CAAb;ARJE5H,AEFG,AEbN,AD6BE,AKTD,IRLEA,AEFSiJ,KFEJ,AIfD,GJeIhJ,CIfX,IFayB,CFER,CAACC,CEFU,WCiBtBsE,EHfK,CAAsBxE,CEF3B,CCgBJ,GHdS,CAAR;AACD,AKPI,ADRN,AGgBD,ADiBA,AHHIgK,QAAAA,CEtBYyB,AEQP6B,ADiBAxB,SHHK,GIdd,CAAsBtH,KAAtB,CFRO,ACyBP,CDzBoCkF,AEQP9H,EDiBoB,ICjBjD,EAAqC,CJe7BA,CEvBD,EAAwC,GFuBjC,CAAC6H,OADD;AErBb,AHIM,AEXP,AGeC,ADgBgD,AHL9C,AKPF,INRYP,EIoBgB1E,GDxBrB6G,AGYA,CDJCzJ,CDgBwC,KJpBxB,AKIV,CAACC,ELJY,EKI3B,EFRqB,CAACmJ,SHIhB,AMQagD,MHZE,EAAkB,YGYhC,EAAyBxJ,KAAzB,EAAgC+C,UAAhC,CAAP,SFYoC,EAAY;ANhB/C,AKRuCmC,AESvC,ADe+C,AEXhD,IHbwCA,ECwBA9H,GNhBhC3B,AOCFmI,GDe0C,EDxBE,CLQpC,CAAClI,AKRyBwJ,cLQhC,CAAsB3J,GAAtB,KOCP,CPDsCC,KAAtC;AACD,AKTuC,AHMjC,AKIJ,AJeD,GEzBoB,CAArB,AHMYmJ,2BKKNvH,GLLoC,GAAG,AKKjC,CAAC6H,OAAP,CAAe8D,MADnB,iBLJI;AFKP,AKVC,AEOA,ADiBA,AHCE,UGDM3L,GHCC4C,GGDK,CAAC3C,CHCb,GGDF;ADtBD,AHIO,AImBL,AHtCD,IDmBYuH,KImBNb,mBJnB8B,GAAG,mBImBtC,OJnBK;AKON,ADaC,AHCD,SIdO/D,ADaDyG,KCbN,oBDaC;AJlBK,AKMN,ADaE,IJnBU5B,SImBH0C,UJnBsB,EImBV,CJnBa,AImBZvH,KAAD,EAAQ5C,MAAR,CAAnB,OJnBI;;AACA,AKMP,ADaE,IJnBW0H,KKMJkE,ADaFhF,QJnBmB,GAAG,CKM7B,CAAsBhE,KAAtB,EAA6B5C,MLNtB,AKMP,EAAqC,gBDanC;AF7BK,AGiBN,ADaE,SF9BayI,CGiBPzI,GDaCoK,GCbK,CHjBR,AGiBSnK,CHjBSqI,GGiBxB,MHjBM,CE8BkB,CF9BWN,AE8BVpF,KAAD,EAAQ5C,KF9B1B,CE8BkB,CF9ByB0I,AE8B/C,OF9BI,EAAmD;AACzD,AGiBC,MHjBKH,CAAC,EGiBD9B,CHjBI4B,aAAa,CAACC,SAAD,EAAYN,WGiBlC,CHjBsB,CAAvB;AGkBE,ADYD,SAAKnB,sBCXA7G,MAAM,CAAC6H,OAAP,CAAegE,KDWpB,CCZC;AFVI,ADPN,AGeA,ADeE,MF9BC,GCOY/B,ICuBNO,CF9BC9B,CAAP,WE8BmB,CAAC3F,EF9BA,ECOjB,ADPH,CCOmCmH,ADPtC,AE8BsB,EF9BI,AE8BI/J,EDvBxB,EAAsCsI,ECuBtB,CAApB,MDvBI,EAAgD;AACtD,ADR0B,SCQnBmB,cAAc,CAACJ,kBAAD,oBAAyBU,IAAzB;AAA+BzB,ADR1B,AGqB1B,ADUC,IDvBmDA,KEa7C1F,ADUDkE,IDv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MNT5B,EAAqC,QMStC;ANRG,AItCJ,AE+CC,QNTO,CMSAC,MNTOhM,EMSd,MNTO,KAAoB,UAAxB,EAAoC;AAClC,AOAC,ADSN,SCTe0N,GPAJ,IAAIvN,IOAT,CPAK,CAAU,COA0B,wCPApC,CAAN;AACD,AOD2C,ADWhD,MCX4B+D,KAAoB,uEAAZ,EAAY;AAAA,MAAR5C,MAAQ;APG5C,AOFH,WPEUtB,QAAQ,CAACH,WAAD,CAAR,CAAsBC,OAAtB,EAA+BC,cAA/B,CAAP;AACD,AOFF,SAAO;AAENgN,IAAAA,SAAS,EAAED,eAAe,CAAC5I,KAAK,CAAC6I,SAAP,EAAkBzL,MAAlB,CAFpB;APIN,AODA2L,IAAAA,EPCI,IODE,EAAED,CPCGlN,OAAP,IODgB,CPCG,AODFoE,KAAK,CAAC+I,IPC3B,EAAmC,AODf,EAAe3L,MAAf,CAHd;APKJ,AIxCG,AGuCL6L,IAAAA,KHvCchD,CJwCN,AODF,EAAE+C,EPCI/M,KAAJ,CAAU,AIxCb,CAAqByJ,GGuCN,CAAC1F,KHvChB,AGuCqB,CAACiJ,CHvCU/C,KGuCjB,CHvCf,CGuC8B9I,CHvCU,KGuCzB,CAJd,cPKE,CAAN;AACD,AIxCF,AGwCCqM,IAAAA,EAAE,CHxCC,CGwCC,GHxCKtD,eAAV,IAA6BT,CGwCf1F,KAAK,CAACyJ,EHxCpB,AGwCK,EHxCkC,AGwCfrM,MAAnB,CANE;AHjCN,AGyCA4J,ADOF,ICPEA,IHzCG,AGyCC,CHzCAtB,AEgDGgC,CCPD,QHzCO,CAACnI,KEgDhB,CAAyBS,KAAzB,EAAgC5C,CFhD1B,CAAyB+I,CGyCZnG,GDOnB,ECPwB,ADOgB,CCPfgH,IAAjB,EAAuB5J,EHzCzB,CAAJ,EAA+C,CGyCzC,CARA;APQN,AIxCA,AG0CAsM,ADMD,ICNCA,EPFIvN,AMQCuJ,EFhDCC,CAAC,GAAGD,EG0CA,CDMI,CCNFgD,EDMK,ENRC,AMQnB,CFhDoB,CAACvC,CJwCCvK,EOEA,CAACoE,IPFtB,COE2B,CAAC0J,KH1CT,CAAnB,IG0CqB,EAAmBtM,MAAnB,CAVf;APSN,AOEAuM,ADIsC,ICJtCA,EPFIvN,YAAY,EOEA,CPFGP,COED8M,aPFlB,EOEiC,CAAC3I,KAAK,CAAC2J,gBAAP,EAAyBvM,MAAzB,CAX3B;APUN,AIzCA,AG4CAwM,ADEsC,ICFtCA,EPHIvN,GIzCA,IAAM+J,MG4CK,EAAGhJ,CPHE,CIzCpB,EJyCuB,EAAvB,AIzCwBuI,AG4CA,CH5CC,AG4CAtI,CH5CC0I,GG4CR,EH5ClB,EAAgC,CG4CEjC,+CAAjB,GAA4D1G,MAAM,CAAC6H,OAAP,CAAe2E,eAA3E,GAA4F5J,KAAK,CAAC4J,eAb7G;APWN,AIzCC,AG6CDT,ADAsC,ICAtCA,EPJI7M,IIzCA,CAACqJ,CAAC,CAACI,AG6CE,EAAEmD,GH7CN,CJyCY,AIzCJ3J,GJyCOlD,OOIK,CAAC2D,GH7CrB,CAAuBoG,CG6CG,CAAC+C,EPJhC,MIzCK,CAAJ,AG6CwB,EH7CgB,AG6CE/L,MAAlB;APHzB,AIzCC,AG6BK,GAAP,GPYKb,IIzCGyJ,CAAC,GAAGL,CAAC,CAACI,GJyCI,EIzCN,CJyCS,AIzCDK,KJyCnB,KIzCW,CAAV;AJ0CD,AOID,ADFuC,ECIxC;AH/CG,AGgDH,ADHC,WF7CM,IAAMC,SAAV,CE6CarG,GF7CUgG,CAAC,CAACM,AE6C3B,KF7CE,EAA+B,uHE6CZ;AF5ClB,AGgDJ,ADJsB,UAAXX,CAAW,CF5Cf,CAACK,CAAC,CAACM,KAAF,CAAQ/G,cAAR,CAAuB8G,SAAvB,CAAJ,EAAuC;AACvC,AGgDJ,YHhDU9D,CAAC,GAAGyD,CAAC,CAACM,KAAF,CAAQD,SAAR,CAAV;AACA,AGgDJ,ADLE,UAAGV,CAAC,CF3CCpD,AE2CAqD,CF3CC,CAACA,AE2CJ,EF3CE,GE2COxI,EF3CE8I,IE2CI,CAACjB,CF3CjB,EAAoB,IE2CV,CAAeG,EF3CE,UE2C7B,EAAwC;AF1CrCe,AGgDL,ADLGT,QAAAA,EF3CES,OE2CO,CAACrJ,IAAV,GF3CiB,EAAfqJ,cE4CE/I,CF7CwB,KE6ClB,CAAC6H,OAAP,CAAeS,SADnB;AF1CEN,AGgDL,ADHG,OAJD,GFzCGA,GE6CI,SF7CQ,EAAEO,CAAC,CAACC,EAFU;AAG1BQ,AE6CFV,QAAAA,EF7CEU,OE6CO,CAACtJ,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","file":"src.7ed060e2.js","sourceRoot":"../../demo","sourcesContent":["export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","import $$observable from 'symbol-observable';\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar randomString = function randomString() {\n  return Math.random().toString(36).substring(7).split('').join('.');\n};\n\nvar ActionTypes = {\n  INIT: \"@@redux/INIT\" + randomString(),\n  REPLACE: \"@@redux/REPLACE\" + randomString(),\n  PROBE_UNKNOWN_ACTION: function PROBE_UNKNOWN_ACTION() {\n    return \"@@redux/PROBE_UNKNOWN_ACTION\" + randomString();\n  }\n};\n\n/**\n * @param {any} obj The object to inspect.\n * @returns {boolean} True if the argument appears to be a plain object.\n */\nfunction isPlainObject(obj) {\n  if (typeof obj !== 'object' || obj === null) return false;\n  var proto = obj;\n\n  while (Object.getPrototypeOf(proto) !== null) {\n    proto = Object.getPrototypeOf(proto);\n  }\n\n  return Object.getPrototypeOf(obj) === proto;\n}\n\n/**\n * Creates a Redux store that holds the state tree.\n * The only way to change the data in the store is to call `dispatch()` on it.\n *\n * There should only be a single store in your app. To specify how different\n * parts of the state tree respond to actions, you may combine several reducers\n * into a single reducer function by using `combineReducers`.\n *\n * @param {Function} reducer A function that returns the next state tree, given\n * the current state tree and the action to handle.\n *\n * @param {any} [preloadedState] The initial state. You may optionally specify it\n * to hydrate the state from the server in universal apps, or to restore a\n * previously serialized user session.\n * If you use `combineReducers` to produce the root reducer function, this must be\n * an object with the same shape as `combineReducers` keys.\n *\n * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n * to enhance the store with third-party capabilities such as middleware,\n * time travel, persistence, etc. The only store enhancer that ships with Redux\n * is `applyMiddleware()`.\n *\n * @returns {Store} A Redux store that lets you read the state, dispatch actions\n * and subscribe to changes.\n */\n\nfunction createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'function' || typeof enhancer === 'function' && typeof arguments[3] === 'function') {\n    throw new Error('It looks like you are passing several store enhancers to ' + 'createStore(). This is not supported. Instead, compose them ' + 'together to a single function.');\n  }\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n  /**\n   * This makes a shallow copy of currentListeners so we can use\n   * nextListeners as a temporary list while dispatching.\n   *\n   * This prevents any bugs around consumers calling\n   * subscribe/unsubscribe in the middle of a dispatch.\n   */\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n\n\n  function getState() {\n    if (isDispatching) {\n      throw new Error('You may not call store.getState() while the reducer is executing. ' + 'The reducer has already received the state as an argument. ' + 'Pass it down from the top reducer instead of reading it from the store.');\n    }\n\n    return currentState;\n  }\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n\n\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected the listener to be a function.');\n    }\n\n    if (isDispatching) {\n      throw new Error('You may not call store.subscribe() while the reducer is executing. ' + 'If you would like to be notified after the store has been updated, subscribe from a ' + 'component and invoke store.getState() in the callback to access the latest state. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n    }\n\n    var isSubscribed = true;\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      if (isDispatching) {\n        throw new Error('You may not unsubscribe from a store listener while the reducer is executing. ' + 'See https://redux.js.org/api-reference/store#subscribelistener for more details.');\n      }\n\n      isSubscribed = false;\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n      currentListeners = null;\n    };\n  }\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n\n\n  function dispatch(action) {\n    if (!isPlainObject(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n\n\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer; // This action has a similiar effect to ActionTypes.INIT.\n    // Any reducers that existed in both the new and old rootReducer\n    // will receive the previous state. This effectively populates\n    // the new state tree with any relevant data from the old one.\n\n    dispatch({\n      type: ActionTypes.REPLACE\n    });\n  }\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n\n\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object' || observer === null) {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return {\n          unsubscribe: unsubscribe\n        };\n      }\n    }, _ref[$$observable] = function () {\n      return this;\n    }, _ref;\n  } // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n\n\n  dispatch({\n    type: ActionTypes.INIT\n  });\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[$$observable] = observable, _ref2;\n}\n\n/**\n * Prints a warning in the console if it exists.\n *\n * @param {String} message The warning message.\n * @returns {void}\n */\nfunction warning(message) {\n  /* eslint-disable no-console */\n  if (typeof console !== 'undefined' && typeof console.error === 'function') {\n    console.error(message);\n  }\n  /* eslint-enable no-console */\n\n\n  try {\n    // This error was thrown as a convenience so that if you enable\n    // \"break on all exceptions\" in your console,\n    // it would pause the execution at this line.\n    throw new Error(message);\n  } catch (e) {} // eslint-disable-line no-empty\n\n}\n\nfunction getUndefinedStateErrorMessage(key, action) {\n  var actionType = action && action.type;\n  var actionDescription = actionType && \"action \\\"\" + String(actionType) + \"\\\"\" || 'an action';\n  return \"Given \" + actionDescription + \", reducer \\\"\" + key + \"\\\" returned undefined. \" + \"To ignore an action, you must explicitly return the previous state. \" + \"If you want this reducer to hold no value, you can return null instead of undefined.\";\n}\n\nfunction getUnexpectedStateShapeWarningMessage(inputState, reducers, action, unexpectedKeyCache) {\n  var reducerKeys = Object.keys(reducers);\n  var argumentName = action && action.type === ActionTypes.INIT ? 'preloadedState argument passed to createStore' : 'previous state received by the reducer';\n\n  if (reducerKeys.length === 0) {\n    return 'Store does not have a valid reducer. Make sure the argument passed ' + 'to combineReducers is an object whose values are reducers.';\n  }\n\n  if (!isPlainObject(inputState)) {\n    return \"The \" + argumentName + \" has unexpected type of \\\"\" + {}.toString.call(inputState).match(/\\s([a-z|A-Z]+)/)[1] + \"\\\". Expected argument to be an object with the following \" + (\"keys: \\\"\" + reducerKeys.join('\", \"') + \"\\\"\");\n  }\n\n  var unexpectedKeys = Object.keys(inputState).filter(function (key) {\n    return !reducers.hasOwnProperty(key) && !unexpectedKeyCache[key];\n  });\n  unexpectedKeys.forEach(function (key) {\n    unexpectedKeyCache[key] = true;\n  });\n  if (action && action.type === ActionTypes.REPLACE) return;\n\n  if (unexpectedKeys.length > 0) {\n    return \"Unexpected \" + (unexpectedKeys.length > 1 ? 'keys' : 'key') + \" \" + (\"\\\"\" + unexpectedKeys.join('\", \"') + \"\\\" found in \" + argumentName + \". \") + \"Expected to find one of the known reducer keys instead: \" + (\"\\\"\" + reducerKeys.join('\", \"') + \"\\\". Unexpected keys will be ignored.\");\n  }\n}\n\nfunction assertReducerShape(reducers) {\n  Object.keys(reducers).forEach(function (key) {\n    var reducer = reducers[key];\n    var initialState = reducer(undefined, {\n      type: ActionTypes.INIT\n    });\n\n    if (typeof initialState === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined during initialization. \" + \"If the state passed to the reducer is undefined, you must \" + \"explicitly return the initial state. The initial state may \" + \"not be undefined. If you don't want to set a value for this reducer, \" + \"you can use null instead of undefined.\");\n    }\n\n    if (typeof reducer(undefined, {\n      type: ActionTypes.PROBE_UNKNOWN_ACTION()\n    }) === 'undefined') {\n      throw new Error(\"Reducer \\\"\" + key + \"\\\" returned undefined when probed with a random type. \" + (\"Don't try to handle \" + ActionTypes.INIT + \" or other actions in \\\"redux/*\\\" \") + \"namespace. They are considered private. Instead, you must return the \" + \"current state for any unknown actions, unless it is undefined, \" + \"in which case you must return the initial state, regardless of the \" + \"action type. The initial state may not be undefined, but can be null.\");\n    }\n  });\n}\n/**\n * Turns an object whose values are different reducer functions, into a single\n * reducer function. It will call every child reducer, and gather their results\n * into a single state object, whose keys correspond to the keys of the passed\n * reducer functions.\n *\n * @param {Object} reducers An object whose values correspond to different\n * reducer functions that need to be combined into one. One handy way to obtain\n * it is to use ES6 `import * as reducers` syntax. The reducers may never return\n * undefined for any action. Instead, they should return their initial state\n * if the state passed to them was undefined, and the current state for any\n * unrecognized action.\n *\n * @returns {Function} A reducer function that invokes every reducer inside the\n * passed object, and builds a state object with the same shape.\n */\n\n\nfunction combineReducers(reducers) {\n  var reducerKeys = Object.keys(reducers);\n  var finalReducers = {};\n\n  for (var i = 0; i < reducerKeys.length; i++) {\n    var key = reducerKeys[i];\n\n    if (process.env.NODE_ENV !== 'production') {\n      if (typeof reducers[key] === 'undefined') {\n        warning(\"No reducer provided for key \\\"\" + key + \"\\\"\");\n      }\n    }\n\n    if (typeof reducers[key] === 'function') {\n      finalReducers[key] = reducers[key];\n    }\n  }\n\n  var finalReducerKeys = Object.keys(finalReducers); // This is used to make sure we don't warn about the same\n  // keys multiple times.\n\n  var unexpectedKeyCache;\n\n  if (process.env.NODE_ENV !== 'production') {\n    unexpectedKeyCache = {};\n  }\n\n  var shapeAssertionError;\n\n  try {\n    assertReducerShape(finalReducers);\n  } catch (e) {\n    shapeAssertionError = e;\n  }\n\n  return function combination(state, action) {\n    if (state === void 0) {\n      state = {};\n    }\n\n    if (shapeAssertionError) {\n      throw shapeAssertionError;\n    }\n\n    if (process.env.NODE_ENV !== 'production') {\n      var warningMessage = getUnexpectedStateShapeWarningMessage(state, finalReducers, action, unexpectedKeyCache);\n\n      if (warningMessage) {\n        warning(warningMessage);\n      }\n    }\n\n    var hasChanged = false;\n    var nextState = {};\n\n    for (var _i = 0; _i < finalReducerKeys.length; _i++) {\n      var _key = finalReducerKeys[_i];\n      var reducer = finalReducers[_key];\n      var previousStateForKey = state[_key];\n      var nextStateForKey = reducer(previousStateForKey, action);\n\n      if (typeof nextStateForKey === 'undefined') {\n        var errorMessage = getUndefinedStateErrorMessage(_key, action);\n        throw new Error(errorMessage);\n      }\n\n      nextState[_key] = nextStateForKey;\n      hasChanged = hasChanged || nextStateForKey !== previousStateForKey;\n    }\n\n    hasChanged = hasChanged || finalReducerKeys.length !== Object.keys(state).length;\n    return hasChanged ? nextState : state;\n  };\n}\n\nfunction bindActionCreator(actionCreator, dispatch) {\n  return function () {\n    return dispatch(actionCreator.apply(this, arguments));\n  };\n}\n/**\n * Turns an object whose values are action creators, into an object with the\n * same keys, but with every function wrapped into a `dispatch` call so they\n * may be invoked directly. This is just a convenience method, as you can call\n * `store.dispatch(MyActionCreators.doSomething())` yourself just fine.\n *\n * For convenience, you can also pass an action creator as the first argument,\n * and get a dispatch wrapped function in return.\n *\n * @param {Function|Object} actionCreators An object whose values are action\n * creator functions. One handy way to obtain it is to use ES6 `import * as`\n * syntax. You may also pass a single function.\n *\n * @param {Function} dispatch The `dispatch` function available on your Redux\n * store.\n *\n * @returns {Function|Object} The object mimicking the original object, but with\n * every action creator wrapped into the `dispatch` call. If you passed a\n * function as `actionCreators`, the return value will also be a single\n * function.\n */\n\n\nfunction bindActionCreators(actionCreators, dispatch) {\n  if (typeof actionCreators === 'function') {\n    return bindActionCreator(actionCreators, dispatch);\n  }\n\n  if (typeof actionCreators !== 'object' || actionCreators === null) {\n    throw new Error(\"bindActionCreators expected an object or a function, instead received \" + (actionCreators === null ? 'null' : typeof actionCreators) + \". \" + \"Did you write \\\"import ActionCreators from\\\" instead of \\\"import * as ActionCreators from\\\"?\");\n  }\n\n  var boundActionCreators = {};\n\n  for (var key in actionCreators) {\n    var actionCreator = actionCreators[key];\n\n    if (typeof actionCreator === 'function') {\n      boundActionCreators[key] = bindActionCreator(actionCreator, dispatch);\n    }\n  }\n\n  return boundActionCreators;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    keys.push.apply(keys, Object.getOwnPropertySymbols(object));\n  }\n\n  if (enumerableOnly) keys = keys.filter(function (sym) {\n    return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n  });\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\n/**\n * Composes single-argument functions from right to left. The rightmost\n * function can take multiple arguments as it provides the signature for\n * the resulting composite function.\n *\n * @param {...Function} funcs The functions to compose.\n * @returns {Function} A function obtained by composing the argument functions\n * from right to left. For example, compose(f, g, h) is identical to doing\n * (...args) => f(g(h(...args))).\n */\nfunction compose() {\n  for (var _len = arguments.length, funcs = new Array(_len), _key = 0; _key < _len; _key++) {\n    funcs[_key] = arguments[_key];\n  }\n\n  if (funcs.length === 0) {\n    return function (arg) {\n      return arg;\n    };\n  }\n\n  if (funcs.length === 1) {\n    return funcs[0];\n  }\n\n  return funcs.reduce(function (a, b) {\n    return function () {\n      return a(b.apply(void 0, arguments));\n    };\n  });\n}\n\n/**\n * Creates a store enhancer that applies middleware to the dispatch method\n * of the Redux store. This is handy for a variety of tasks, such as expressing\n * asynchronous actions in a concise manner, or logging every action payload.\n *\n * See `redux-thunk` package as an example of the Redux middleware.\n *\n * Because middleware is potentially asynchronous, this should be the first\n * store enhancer in the composition chain.\n *\n * Note that each middleware will be given the `dispatch` and `getState` functions\n * as named arguments.\n *\n * @param {...Function} middlewares The middleware chain to be applied.\n * @returns {Function} A store enhancer applying the middleware.\n */\n\nfunction applyMiddleware() {\n  for (var _len = arguments.length, middlewares = new Array(_len), _key = 0; _key < _len; _key++) {\n    middlewares[_key] = arguments[_key];\n  }\n\n  return function (createStore) {\n    return function () {\n      var store = createStore.apply(void 0, arguments);\n\n      var _dispatch = function dispatch() {\n        throw new Error('Dispatching while constructing your middleware is not allowed. ' + 'Other middleware would not be applied to this dispatch.');\n      };\n\n      var middlewareAPI = {\n        getState: store.getState,\n        dispatch: function dispatch() {\n          return _dispatch.apply(void 0, arguments);\n        }\n      };\n      var chain = middlewares.map(function (middleware) {\n        return middleware(middlewareAPI);\n      });\n      _dispatch = compose.apply(void 0, chain)(store.dispatch);\n      return _objectSpread2({}, store, {\n        dispatch: _dispatch\n      });\n    };\n  };\n}\n\n/*\n * This is a dummy function to check if the function name has been altered by minification.\n * If the function has been minified and NODE_ENV !== 'production', warn the user.\n */\n\nfunction isCrushed() {}\n\nif (process.env.NODE_ENV !== 'production' && typeof isCrushed.name === 'string' && isCrushed.name !== 'isCrushed') {\n  warning('You are currently using minified code outside of NODE_ENV === \"production\". ' + 'This means that you are running a slower development build of Redux. ' + 'You can use loose-envify (https://github.com/zertosh/loose-envify) for browserify ' + 'or setting mode to production in webpack (https://webpack.js.org/concepts/mode/) ' + 'to ensure you have the correct code for your production build.');\n}\n\nexport { ActionTypes as __DO_NOT_USE__ActionTypes, applyMiddleware, bindActionCreators, combineReducers, compose, createStore };\n","function createThunkMiddleware(extraArgument) {\n  return function (_ref) {\n    var dispatch = _ref.dispatch,\n        getState = _ref.getState;\n    return function (next) {\n      return function (action) {\n        if (typeof action === 'function') {\n          return action(dispatch, getState, extraArgument);\n        }\n\n        return next(action);\n      };\n    };\n  };\n}\n\nvar thunk = createThunkMiddleware();\nthunk.withExtraArgument = createThunkMiddleware;\n\nexport default thunk;","\n// ajax action types\nexport const REQUEST_GRID_DOCUMENT_LOAD = 'REQUEST-GRID_DOCUMENT-LOAD';\nexport const REQUEST_GRID_DOCUMENT_CHECK_DRAFT_STATE = 'REQUEST-GRID_DOCUMENT-CHECK_DRAFT_STATE'\nexport const REQUEST_GRID_DOCUMENT_PUBLISH_DRAFT = 'REQUEST-GRID_DOCUMENT-PUBLISH_DRAFT';\nexport const REQUEST_GRID_DOCUMENT_REVERT_DRAFT = 'REQUEST-GRID_DOCUMENT-REVERT_DRAFT';\nexport const REQUEST_GRID_DOCUMENT_REVERT_TO_REVISION = 'REQUEST-GRID_DOCUMENT-REVERT_TO_REVISION';\nexport const REQUEST_GRID_DOCUMENT_REVISIONS = 'REQUEST-GRID_DOCUMENT-REVISIONS';\nexport const REQUEST_GRID_STYLES_GET = 'REQUEST-GRID_STYLES-GET';\nexport const REQUEST_GRID_PERMISSION_RIGHTS = 'REQUEST-GRID_PERMISSION-RIGHTS';\n\nexport const REQUEST_GRID_CONTAINER_EDITING_GET_TYPES = 'REQUEST-GRID_CONTAINER_EDITING-GET_TYPES';\nexport const REQUEST_GRID_CONTAINER_EDITING_ADD = 'REQUEST-GRID_CONTAINER_EDITING-ADD';\nexport const REQUEST_GRID_CONTAINER_EDITING_DELETE = 'REQUEST-GRID_CONTAINER_EDITING-DELETE';\nexport const REQUEST_GRID_CONTAINER_EDITING_MOVE = 'REQUEST-GRID_CONTAINER_EDITING-MOVE';\nexport const REQUEST_GRID_CONTAINER_EDITING_UPDATE = 'REQUEST-GRID_CONTAINER_EDITING-UPDATE';\n\nexport const REQUEST_GRID_BOX_EDITING_META_TYPES = 'REQUEST-GRID_BOX_EDITING-META_TYPES';\nexport const REQUEST_GRID_BOX_EDITING_SEARCH = 'REQUEST-GRID_BOX_EDITING-SEARCH';\nexport const REQUEST_GRID_BOX_EDITING_CREATE = 'REQUEST-GRID_BOX_EDITING-CREATE';\nexport const REQUEST_GRID_BOX_EDITING_MOVE = 'REQUEST-GRID_BOX_EDITING-MOVE';\nexport const REQUEST_GRID_BOX_EDITING_REMOVE = 'REQUEST-GRID_BOX_EDITING-REMOVE';\nexport const REQUEST_GRID_BOX_EDITING_UPDATE = 'REQUEST-GRID_BOX_EDITING-UPDATE';\n\n\n\n\nexport const GRID_UI_STATE = \"GRID-UI-STATE\";\nexport const GRID_LOADING = 'GRID_LOADING';\n\nexport const GRID_CONTAINER_IN_PLACE_DIALOG = \"GRID-CONTAINER-IN-PLACE-DIALOG\";\nexport const GRID_BOX_IN_PLACE_DIALOG = \"GRID-BOX-IN-PLACE-DIALOG\";\n\nexport const GRID_CONTAINER_EDIT = \"GRID-CONTAINER-EDIT\";\nexport const GRID_BOX_EDIT = \"GRID-BOX-EDIT\";\n\n","\nimport {\n\tGRID_UI_STATE,\n\tGRID_LOADING,\n\tGRID_BOX_EDIT,\n\tGRID_CONTAINER_EDIT,\n\tGRID_CONTAINER_IN_PLACE_DIALOG,\n\tGRID_BOX_IN_PLACE_DIALOG,\n\n} from '../actions/types';\n\nexport default function updateUI(state, action){\n\tswitch (action.type) {\n\n\t\tcase GRID_UI_STATE:\n\t\t\tconst new_state = {\n\t\t\t\t...state,\n\t\t\t};\n\t\t\tnew_state[action.payload.key] = action.payload.value;\n\t\t\treturn new_state;\n\n\t\tcase GRID_LOADING:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tis_loading: action.payload.is_loading,\n\t\t\t};\n\t\t\tbreak;\n\t\tcase GRID_CONTAINER_EDIT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tedit_container: action.payload.container_id,\n\t\t\t}\n\t\tcase GRID_BOX_EDIT:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tedit_box: action.payload.box,\n\t\t\t}\n\t\tcase GRID_CONTAINER_IN_PLACE_DIALOG:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcontainer_dialog_index: action.payload.index,\n\t\t\t}\n\t\tcase GRID_BOX_IN_PLACE_DIALOG:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tbox_dialog: {\n\t\t\t\t\t...action.payload,\n\t\t\t\t}\n\t\t\t}\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}","'use strict';\n\n/**\n *\n * @param container\n * @param container_id\n * @return {object|null}\n */\nexport function findContainer(container, container_id){\n\tfor(const c of container) {\n\t\tif (c.id === container_id) {\n\t\t\treturn c;\n\t\t}\n\t}\n\treturn null;\n}\n\n/**\n *\n * @param {array} container\n * @param {int} container_id\n * @param {int} slot_id\n * @return {null|object}\n */\nexport function findSlot(container, container_id, slot_id){\n\tconst c = findContainer(container, container_id)\n\tif(typeof c === typeof {}){\n\t\tfor(const s of c.slots){\n\t\t\tif(s.id === slot_id){\n\t\t\t\treturn s;\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n}\n\n/**\n *\n * @param container\n * @param box_id\n * @return {null|object}\n */\nexport function findBoxPath(container, box_id) {\n\tfor(const container_index in container){\n\t\tif(!container.hasOwnProperty(container_index)) continue\n\t\tconst c = container[container_index];\n\t\tfor(const slot_index in c.slots){\n\t\t\tif(!c.slots.hasOwnProperty(slot_index)) continue\n\t\t\tconst s = c.slots[slot_index]\n\t\t\tfor(const box_index in s.boxes){\n\t\t\t\tif(!s.boxes.hasOwnProperty(box_index)) continue\n\t\t\t\tconst b = s.boxes[box_index];\n\t\t\t\tif(b.id === box_id) return {\n\t\t\t\t\tcontainer_index,\n\t\t\t\t\tcontainer_id: c.id,\n\t\t\t\t\tslot_index,\n\t\t\t\t\tslot_id: s.id,\n\t\t\t\t\tbox_index,\n\t\t\t\t\tbox_id\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\treturn null;\n\n}","'use strict';\n\nexport const GRID_LOADING = 'GRID_LOADING';\n\nexport const GRID_UPDATE = \"GRID-UPDATE\"\nexport const GRID_IS_LOADING = \"GRID-IS-LOADING\"\nexport const GRID_CONTAINER_ADD = \"GRID-CONTAINER-ADD\"\nexport const GRID_CONTAINER_MOVE = \"GRID-CONTAINER-MOVE\"\nexport const GRID_CONTAINER_REMOVE = \"GRID-CONTAINER-REMOVE\"\nexport const GRID_BOX_ADD = \"GRID-BOX-ADD\"\n\n\n// helper for default action object\nfunction _create_action(type, payload, more = {}){\n\treturn { type, payload, ...more };\n}\n\n\n\nexport function actionGridUpdate(grid){\n\treturn _create_action(GRID_UPDATE, {grid});\n}\n\nexport function actionGridIsLoading(is_loading){\n\treturn _create_action(GRID_IS_LOADING, {is_loading});\n}\n\n/**\n *\n * @param args\n * @param container\n * @return {type, payload}\n */\nexport function actionGridContainerAdd(args, container){\n\treturn _create_action(GRID_CONTAINER_ADD, {...args, container} );\n}\n","'use strict';\n\nimport {\n\tfindSlot,\n} from '../helper/store-iterator'\n\nimport {\n\tREQUEST_GRID_DOCUMENT_LOAD,\n\tREQUEST_GRID_DOCUMENT_CHECK_DRAFT_STATE,\n\tREQUEST_GRID_DOCUMENT_REVERT_DRAFT,\n\tREQUEST_GRID_DOCUMENT_REVERT_TO_REVISION,\n\tREQUEST_GRID_CONTAINER_EDITING_ADD,\n\tREQUEST_GRID_CONTAINER_EDITING_DELETE,\n\tREQUEST_GRID_CONTAINER_EDITING_MOVE,\n\tREQUEST_GRID_CONTAINER_EDITING_UPDATE,\n\n\tREQUEST_GRID_BOX_EDITING_CREATE,\n\tREQUEST_GRID_BOX_EDITING_REMOVE,\n\tREQUEST_GRID_BOX_EDITING_MOVE,\n} from '../actions/types';\n\n\nimport {\n\tGRID_CONTAINER_ADD,\n} from '../actions/state'\n\n\nexport default function updateGrid(state, action){\n\tswitch (action.type) {\n\t\tcase REQUEST_GRID_DOCUMENT_LOAD:\n\t\tcase REQUEST_GRID_DOCUMENT_REVERT_DRAFT:\n\t\tcase REQUEST_GRID_DOCUMENT_REVERT_TO_REVISION:\n\t\t\treturn {\n\t\t\t\t...action.payload.grid,\n\t\t\t}\n\t\tcase REQUEST_GRID_DOCUMENT_CHECK_DRAFT_STATE:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tisDraft: action.payload.isDraft,\n\t\t\t}\n\t\tdefault:\n\t\t\treturn {\n\t\t\t\t...state,\n\t\t\t\tcontainer: updateContainerList(state.container, action),\n\t\t\t};\n\t}\n}\n\nfunction updateContainerList(state = [], action) {\n\tswitch( action.type){\n\t\tcase REQUEST_GRID_CONTAINER_EDITING_ADD:\n\t\tcase GRID_CONTAINER_ADD:\n\t\t\treturn addContainer(state, action)\n\t\tcase REQUEST_GRID_CONTAINER_EDITING_DELETE:\n\t\t\treturn deleteContainer(state, action)\n\t\tcase REQUEST_GRID_CONTAINER_EDITING_MOVE:\n\t\t\treturn moveContainer(state, action)\n\t\tcase REQUEST_GRID_CONTAINER_EDITING_UPDATE:\n\t\t\treturn updateContainer(state, action);\n\t\tdefault:\n\t\t\treturn updateBoxes(state, action);\n\t}\n}\n\nfunction addContainer(state, action){\n\treturn [\n\t\t...state.slice(0, action.payload.to_index ),\n\t\taction.payload.container,\n\t\t...state.slice(action.payload.to_index)\n\t]\n}\n\nfunction deleteContainer(state, action){\n\treturn [\n\t\t...state.filter((c)=> c.id !== action.payload.container_id)\n\t]\n}\n\nfunction moveContainer(state, action){\n\tconst { to_index, container_id} = action.payload;\n\tconst target_container = state.filter((c)=> c.id === container_id )[0];\n\tconst new_list = state.filter( (c)=> c.id !== container_id );\n\tnew_list.splice(to_index, 0, target_container)\n\treturn new_list;\n}\n\n/**\n * update single container element\n * @param state\n * @param action\n * @return {Array}\n */\nfunction updateContainer(state, action) {\n\tconst container = [];\n\tfor(const c of state){\n\t\tif(c.id === action.payload.container_id){\n\t\t\tcontainer.push({\n\t\t\t\t...action.payload.container\n\t\t\t})\n\t\t} else {\n\t\t\tcontainer.push({\n\t\t\t\t...c,\n\t\t\t});\n\t\t}\n\t}\n\treturn container;\n}\n\nfunction updateBoxes(state, action){\n\tlet container = null;\n\tswitch (action.type){\n\t\tcase REQUEST_GRID_BOX_EDITING_CREATE:\n\t\t\treturn createBox(state, action)\n\t\tcase REQUEST_GRID_BOX_EDITING_REMOVE:\n\t\t\treturn removeBox(state, action);\n\t\tcase REQUEST_GRID_BOX_EDITING_MOVE:\n\t\t\treturn moveBox(state, action)\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction createBox(state, action){\n\tconst {to_container_id, to_slot_id, to_box_index, box} = action.payload;\n\tconst container = [\n\t\t...state,\n\t]\n\tfindSlot(container, to_container_id, to_slot_id).boxes.splice(to_box_index,0,box)\n\treturn container;\n}\n\nfunction removeBox(state, action){\n\tconst {container_id, slot_id, index } = action.payload;\n\tconst container = [\n\t\t...state,\n\t]\n\tfindSlot(container, container_id, slot_id).boxes.splice(index,1)\n\treturn container;\n}\n\nfunction moveBox(state, action){\n\tconst {\n\t\tfrom_container_id, from_slot_id, from_box_index,\n\t\tto_container_id, to_slot_id, to_box_index,\n\t} = action.payload\n\n\tconst container = [...state]\n\n\tlet same_slot_correction = 0;\n\tif(from_container_id === to_container_id\n\t\t&& from_slot_id === to_slot_id ){\n\n\t\t/**\n\t\t * no need for operation. it's the same position\n\t\t */\n\t\tif( from_box_index === to_box_index || from_box_index+1 === to_box_index) return container;\n\n\t\t/**\n\t\t * if dragged box before destination and in same slot we need to decrease the index because of coming slice operation\n\t\t */\n\t\tif(from_box_index < to_box_index){\n\t\t\tsame_slot_correction = -1;\n\t\t}\n\t}\n\n\tconst box = findSlot(container, from_container_id, from_slot_id).boxes.splice(from_box_index,1)[0]\n\tconst slot = findSlot(container, to_container_id, to_slot_id);\n\n\tslot.boxes = [\n\t\t...slot.boxes.slice(0,to_box_index+same_slot_correction),\n\t\tbox,\n\t\t...slot.boxes.slice(to_box_index+same_slot_correction),\n\t]\n\n\treturn container;\n}\n\n\n\n\n","'use strict';\n\nimport {\n\tREQUEST_GRID_DOCUMENT_REVISIONS,\n\tREQUEST_GRID_STYLES_GET,\n\tREQUEST_GRID_PERMISSION_RIGHTS,\n\tREQUEST_GRID_CONTAINER_EDITING_GET_TYPES,\n\tREQUEST_GRID_BOX_EDITING_META_TYPES,\n\tREQUEST_GRID_BOX_EDITING_SEARCH,\n} from '../actions/types';\n\nimport updateUI from './update-ui';\nimport updateGrid from './update-grid';\n\nfunction boxEditor(state, action){\n\treturn state;\n}\n\nfunction containerEditor(state, action){\n\treturn state;\n}\n\nfunction updateRevisions(state, action) {\n\tswitch (action.type){\n\t\tcase REQUEST_GRID_DOCUMENT_REVISIONS:\n\t\t\treturn [\n\t\t\t\t...action.payload.revisions,\n\t\t\t]\n\t}\n\treturn state;\n}\nfunction updateStyles(state, action) {\n\tswitch (action.type){\n\t\tcase REQUEST_GRID_STYLES_GET:\n\t\t\treturn {\n\t\t\t\t...action.payload.styles,\n\t\t\t}\n\t}\n\treturn state;\n}\nfunction updateRights(state, action) {\n\tswitch (action.type){\n\t\tcase REQUEST_GRID_PERMISSION_RIGHTS:\n\t\t\treturn {\n\t\t\t\t...action.payload.rights,\n\t\t\t}\n\t}\n\treturn state;\n}\n\nfunction updateBoxTypes(state, action){\n\tswitch (action.type) {\n\t\tcase REQUEST_GRID_BOX_EDITING_META_TYPES:\n\t\t\treturn [\n\t\t\t\t...action.payload.box_types\n\t\t\t];\n\t\tcase REQUEST_GRID_BOX_EDITING_SEARCH:\n\t\t\tconst types = [];\n\t\t\tfor(const i in state){\n\t\t\t\tconst box_type = {...state[i]};\n\t\t\t\tif(box_type.type === action.payload.box_meta_type){\n\t\t\t\t\tbox_type.boxes = action.payload.boxes;\n\t\t\t\t}\n\t\t\t\ttypes.push(box_type)\n\t\t\t}\n\n\t\t\tconsole.log(state, types);\n\n\t\t\treturn types\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\n// this way\nexport function gridReducer(state = {}, action) {\n\t// important never mutate, but always create new object\n\treturn {\n\n\t\trevisions: updateRevisions(state.revisions, action),\n\t\tstyles: updateStyles(state.styles, action),\n\t\trights: updateRights(state.rights, action),\n\n\t\tui: updateUI(state.ui, action),\n\n\t\tgrid: updateGrid(state.grid, action),\n\n\t\tbox_editor: boxEditor(state.box_editor, action),\n\t\tcontainer_editor: containerEditor(state.container_editor, action),\n\n\t\tcontainer_types: (action.type === REQUEST_GRID_CONTAINER_EDITING_GET_TYPES)? action.payload.container_types: state.container_types,\n\n\t\tbox_types: updateBoxTypes(state.box_types, action),\n\t}\n}\n\n// or this way\n// import { combineReducers } from 'redux'\n// const grid_app = combineReducers({\n//   box_editor: box_editor(state.box_editor, action),\n//   container_editor: box_editor(state.container_editor, action),\n//   grid: update_grid(state.grid, action),\n// })\n","'use strict';\n\nimport { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\n\nimport {gridReducer} from '../reducer';\n\nexport default function createGridStore(state = {\n\t// ui states\n\tui: {},\n\n\t// grid state\n\tgrid: {},\n\n\t// others\n\trevisions: [],\n\tcontainer_types: [],\n\tbox_types: [],\n\trights: [],\n\tstyles: [],\n\n}){\n\n\tlet middleware = null;\n\tif (process.env.NODE_ENV !== 'production') {\n\t\tconst logger = store => next => action => {\n\t\t\tif(typeof action !== \"function\") console.log('dispatching', action);\n\t\t\tconst result = next(action);\n\t\t\t// console.log('next state', store.getState());\n\t\t\treturn result;\n\t\t};\n\t\tmiddleware = applyMiddleware(logger, thunk );\n\t} else {\n\t\tmiddleware = applyMiddleware(thunk);\n\t}\n\n\treturn createStore(gridReducer, state, middleware);\n}","import Store from './store'\n\nexport default function GridApp(){\n    const store = Store();\n    window.gridStore = store;\n}"]}